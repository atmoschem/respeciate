<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>(re)SPECIATE profile rescaling functions — rsp.rescale • respeciate</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="(re)SPECIATE profile rescaling functions — rsp.rescale"><meta property="og:description" content="Functions for rescaling
rsp_rescale rescales the percentage weight records in
a supplied (re)SPECIATE profile data set. This can be by profile or species
subsets, and rsp_rescale_profile and rsp_rescale_species provide
short-cuts to these options."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">respeciate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/atmoschem/respeciate/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>(re)SPECIATE profile rescaling functions</h1>
    <small class="dont-index">Source: <a href="https://github.com/atmoschem/respeciate/blob/HEAD/R/rsp.rescale.R" class="external-link"><code>R/rsp.rescale.R</code></a></small>
    <div class="hidden name"><code>rsp.rescale.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions for rescaling</p>
<p><code>rsp_rescale</code> rescales the percentage weight records in
a supplied (re)SPECIATE profile data set. This can be by profile or species
subsets, and <code>rsp_rescale_profile</code> and <code>rsp_rescale_species</code> provide
short-cuts to these options.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rsp_rescale</span><span class="op">(</span><span class="va">rsp</span>, method <span class="op">=</span> <span class="fl">2</span>, by <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rsp_rescale_profile</span><span class="op">(</span><span class="va">rsp</span>, method <span class="op">=</span> <span class="fl">1</span>, by <span class="op">=</span> <span class="st">"profile"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rsp_rescale_species</span><span class="op">(</span><span class="va">rsp</span>, method <span class="op">=</span> <span class="fl">2</span>, by <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>rsp</dt>
<dd><p>A <code>respeciate</code> object, a <code>data.frame</code> of re(SPECIATE)
profiles.</p></dd>


<dt>method</dt>
<dd><p>numeric, the rescaling method to apply:
  1 <code>x/total(x)</code>;
  2 <code>x/mean(x)</code>;
  3 <code>x-min(x)/max(x)-min(x)</code>;
  4 <code>x-mean(x)/sd(x)</code>;
  5 <code>x/max(x)</code>.
The alternative 0 returns the records to their original
values.</p></dd>


<dt>by</dt>
<dd><p>character, when rescaling <code>x</code> with
<code>sp_rescale</code>, the data type to group and rescale,
currently <code>'species'</code> (default) or <code>'profile'</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>sp_rescale</code> and <code>sp_rescale</code> return the
<code>respeciate</code> profile with the percentage weight records rescaled using
the requested method. See Note.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Data sometimes needs to be normalised, e.g. when applying some
statistical analyses. Rather than modify the EPA records in the
<code>WEIGHT_PERCENT</code> column, <code>respeciate</code> creates a duplicate column
<code>.value</code> which is modified by operations like <code>sp_rescale_profile</code>
and <code>sp_rescale_species</code>. This means rescaling is always applied to
the source information, rather than rescaling an already rescaled value,
and the EPA records are retained unaffected. So, the original source
information can be easily recovered.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Dowle M, Srinivasan A (2023). data.table: Extension of `data.frame`.
  R package version 1.14.8, <a href="https://CRAN.R-project.org/package=data.table" class="external-link">https://CRAN.R-project.org/package=data.table</a>.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sergio Ibarra-Espinosa, Karl Ropkins.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

